<!DOCTYPE html>
<html>
<head>
  <title>CV Generator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- ðŸ”’ Redirect if not logged in -->
  <script>
    if (!localStorage.getItem("loggedIn")) {
      window.location.href = "login.html";
    }
  </script>

  <!-- ðŸ”˜ Logout and Theme Toggle -->
  <!-- <button id="logoutBtn" class="top-button">Logout</button>
  <label class="theme-toggle">
    <input type="checkbox" id="themeToggle" /> Dark Mode
  </label> -->

  <div class="container">
    <h2>CV Generator</h2>
    <form id="cvForm">
      <input type="text" id="name" placeholder="Full Name" required />
      <input type="email" id="email" placeholder="Email" required />
      <input type="tel" id="phone" placeholder="Phone Number" required />
      <textarea id="education" placeholder="Education" required></textarea>
      <textarea id="skills" placeholder="Skills" required></textarea>
      <textarea id="experience" placeholder="Experience" required></textarea>
      <button type="submit">Generate CV</button>
    </form>

    <div id="cvPreview" class="cv"></div>
    <button id="downloadBtn" style="display: none;">Download PDF</button>
  </div>

  <!-- âœ… Required libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="script.js"></script>

  <script>
    // ðŸŒ™ Theme Toggle
    const themeToggle = document.getElementById("themeToggle");
    window.onload = () => {
      const savedTheme = localStorage.getItem("theme") || "light";
      if (savedTheme === "dark") {
        document.body.classList.add("dark-mode");
        themeToggle.checked = true;
      }
    };
    themeToggle.addEventListener("change", () => {
      document.body.classList.toggle("dark-mode");
      localStorage.setItem("theme", themeToggle.checked ? "dark" : "light");
    });

    // ðŸ”“ Logout logic
    document.getElementById("logoutBtn").addEventListener("click", () => {
      localStorage.removeItem("loggedIn");
      window.location.href = "login.html";
    });
  </script>
</body>
</html>
